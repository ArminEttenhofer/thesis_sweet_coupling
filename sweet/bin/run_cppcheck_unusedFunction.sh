#! /bin/bash

BUILD_DIR="/tmp/sweet_cppcheck_build_dir"
mkdir -p "$BUILD_DIR"

defs=(	"SWEET_GUI"
	"SWEET_EIGEN"
	"SWEET_PARAREAL"
	"SWEET_LIBPFASST"

	"SWEET_USE_SPHERE2D_SPECTRAL_SPACE"
	"SWEET_USE_SPHERE2D_SPECTRAL_DEALIASING"

	"SWEET_USE_CART2D_SPECTRAL_SPACE"
	"SWEET_USE_CART2D_SPECTRAL_DEALIASING"

	"SWEET_USE_LIBFFT"

	"SWEET_BENCHMARK_TIMINGS"

	"SWEET_MPI"
	"SWEET_THREADING_SPACE"
	"SWEET_THREADING_TIME_REXI"

	"SWEET_XBRAID"
	"SWEET_XBRAID_SPHERE2D"
	"SWEET_XBRAID_CART2D"
	"SWEET_XBRAID_CART2D_SWE"
	"SWEET_XBRAID_SPHERE2D_SWE"
)

PARAMS=""
for e in "${defs[@]}"; do
	PARAMS="${PARAMS} -D${e}=1"
done

cppcheck --cppcheck-build-dir="$BUILD_DIR" src/ -I ./src/include/ -I ./src --enable=unusedFunction ${PARAMS} 

